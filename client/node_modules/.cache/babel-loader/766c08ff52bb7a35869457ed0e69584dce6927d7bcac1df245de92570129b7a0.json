{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/albert/projects/new-on-youtube/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/albert/projects/new-on-youtube/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/albert/projects/new-on-youtube/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import axios from\"axios\";import{useContext}from\"react\";import{Link}from\"react-router-dom\";import styled from\"styled-components\";import logo from\"../assets/logo.png\";import{RootContext}from\"../context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBar=function NavBar(){var _useContext=useContext(RootContext),user=_useContext.user,updateUser=_useContext.updateUser,SERVER_URL=_useContext.SERVER_URL;var signOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(SERVER_URL+\"/logout\",{});case 2:message=_context.sent.data.message;console.log(message);if(message===\"logged out\")updateUser(\"\");else alert(\"Unable to sign out\");case 5:case\"end\":return _context.stop();}},_callee);}));return function signOut(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Bar,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(Logo,{children:[/*#__PURE__*/_jsx(\"div\",{style:{margin:\"5px 10px 0 10px\"},children:/*#__PURE__*/_jsx(\"img\",{src:logo,width:\"30px\"})}),/*#__PURE__*/_jsx(\"div\",{children:\"New on YouTube\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/Search\",children:/*#__PURE__*/_jsx(Item,{children:\"New Search\"})}),/*#__PURE__*/_jsx(Link,{to:\"/Feed\",children:/*#__PURE__*/_jsx(Item,{children:\"Feed\"})}),!user&&/*#__PURE__*/_jsx(Link,{to:user?\"/\":\"/SignIn\",children:/*#__PURE__*/_jsx(Item,{children:\"Sign In\"})}),!user&&/*#__PURE__*/_jsx(Link,{to:user?\"/\":\"/Register\",children:/*#__PURE__*/_jsx(Item,{children:\"Register\"})}),user&&/*#__PURE__*/_jsxs(SignedInIcon,{children:[\"Signed in as: \",user]}),user&&/*#__PURE__*/_jsx(Item,{onClick:signOut,style:{cursor:\"pointer\"},children:\"Sign Out\"})]});};export default NavBar;var Bar=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    position: sticky;\\n    top: 0;\\n    background-color: black;\\n\"])));var Item=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    margin: 10px 20px;\\n    color: #fad000;\\n\"])));var SignedInIcon=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    margin: 10px 20px;\\n    color: green;\\n\"])));var Logo=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    margin: 5px;\\n    border-radius: 10px;\\n    padding: 0 10px 0 0;\\n    background-color: #fad000;\\n    color: black;\\n\"])));","map":{"version":3,"names":["axios","useContext","Link","styled","logo","RootContext","NavBar","user","updateUser","SERVER_URL","signOut","post","message","data","console","log","alert","margin","cursor","Bar","div","Item","SignedInIcon","Logo"],"sources":["/Users/albert/projects/new-on-youtube/client/src/NavBar/Navbar.tsx"],"sourcesContent":["import axios from \"axios\";\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport logo from \"../assets/logo.png\";\nimport { RootContext } from \"../context\";\n\nconst NavBar = () => {\n    const { user, updateUser, SERVER_URL } = useContext(RootContext);\n    const signOut = async () => {\n        const { message } = (await axios.post(SERVER_URL + \"/logout\", {})).data;\n        console.log(message);\n        if (message === \"logged out\") updateUser(\"\");\n        else alert(\"Unable to sign out\");\n    };\n\n    return (\n        <Bar>\n            <Link to=\"/\">\n                <Logo>\n                    <div style={{ margin: \"5px 10px 0 10px\" }}>\n                        <img src={logo} width=\"30px\" />\n                    </div>\n                    <div>New on YouTube</div>\n                </Logo>\n            </Link>\n            <Link to=\"/Search\">\n                <Item>New Search</Item>\n            </Link>\n            <Link to=\"/Feed\">\n                <Item>Feed</Item>\n            </Link>\n            {!user && (\n                <Link to={user ? \"/\" : \"/SignIn\"}>\n                    <Item>Sign In</Item>\n                </Link>\n            )}\n            {!user && (\n                <Link to={user ? \"/\" : \"/Register\"}>\n                    <Item>Register</Item>\n                </Link>\n            )}\n            {user && <SignedInIcon>Signed in as: {user}</SignedInIcon>}\n            {user && (\n                <Item onClick={signOut} style={{ cursor: \"pointer\" }}>\n                    Sign Out\n                </Item>\n            )}\n        </Bar>\n    );\n};\n\nexport default NavBar;\n\nconst Bar = styled.div`\n    display: flex;\n    align-items: center;\n    position: sticky;\n    top: 0;\n    background-color: black;\n`;\n\nconst Item = styled.div`\n    margin: 10px 20px;\n    color: #fad000;\n`;\n\nconst SignedInIcon = styled.div`\n    margin: 10px 20px;\n    color: green;\n`;\n\nconst Logo = styled.div`\n    display: flex;\n    align-items: center;\n    margin: 5px;\n    border-radius: 10px;\n    padding: 0 10px 0 0;\n    background-color: #fad000;\n    color: black;\n`;\n"],"mappings":"6eAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,OAAM,KAAM,mBAAmB,CACtC,MAAOC,KAAI,KAAM,oBAAoB,CACrC,OAASC,WAAW,KAAQ,YAAY,CAAC,wFAEzC,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACjB,gBAAyCL,UAAU,CAACI,WAAW,CAAC,CAAxDE,IAAI,aAAJA,IAAI,CAAEC,UAAU,aAAVA,UAAU,CAAEC,UAAU,aAAVA,UAAU,CACpC,GAAMC,QAAO,4FAAG,sKACeV,MAAK,CAACW,IAAI,CAACF,UAAU,CAAG,SAAS,CAAE,CAAC,CAAC,CAAC,QAAzDG,OAAO,eAAoDC,IAAI,CAA/DD,OAAO,CACfE,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC,CACpB,GAAIA,OAAO,GAAK,YAAY,CAAEJ,UAAU,CAAC,EAAE,CAAC,CAAC,IACxCQ,MAAK,CAAC,oBAAoB,CAAC,CAAC,qDACpC,kBALKN,QAAO,0CAKZ,CAED,mBACI,MAAC,GAAG,yBACA,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,uBACR,MAAC,IAAI,yBACD,YAAK,KAAK,CAAE,CAAEO,MAAM,CAAE,iBAAkB,CAAE,uBACtC,YAAK,GAAG,CAAEb,IAAK,CAAC,KAAK,CAAC,MAAM,EAAG,EAC7B,cACN,qBAAK,gBAAc,EAAM,GACtB,EACJ,cACP,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,uBACd,KAAC,IAAI,WAAC,YAAU,EAAO,EACpB,cACP,KAAC,IAAI,EAAC,EAAE,CAAC,OAAO,uBACZ,KAAC,IAAI,WAAC,MAAI,EAAO,EACd,CACN,CAACG,IAAI,eACF,KAAC,IAAI,EAAC,EAAE,CAAEA,IAAI,CAAG,GAAG,CAAG,SAAU,uBAC7B,KAAC,IAAI,WAAC,SAAO,EAAO,EAE3B,CACA,CAACA,IAAI,eACF,KAAC,IAAI,EAAC,EAAE,CAAEA,IAAI,CAAG,GAAG,CAAG,WAAY,uBAC/B,KAAC,IAAI,WAAC,UAAQ,EAAO,EAE5B,CACAA,IAAI,eAAI,MAAC,YAAY,YAAC,gBAAc,CAACA,IAAI,GAAgB,CACzDA,IAAI,eACD,KAAC,IAAI,EAAC,OAAO,CAAEG,OAAQ,CAAC,KAAK,CAAE,CAAEQ,MAAM,CAAE,SAAU,CAAE,UAAC,UAEtD,EACH,GACC,CAEd,CAAC,CAED,cAAeZ,OAAM,CAErB,GAAMa,IAAG,CAAGhB,MAAM,CAACiB,GAAG,mLAMrB,CAED,GAAMC,KAAI,CAAGlB,MAAM,CAACiB,GAAG,kHAGtB,CAED,GAAME,aAAY,CAAGnB,MAAM,CAACiB,GAAG,gHAG9B,CAED,GAAMG,KAAI,CAAGpB,MAAM,CAACiB,GAAG,4OAQtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}